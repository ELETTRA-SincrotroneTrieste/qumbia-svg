<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>qumbia-svg: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">qumbia-svg
   &#160;<span id="projectnumber">1.x</span>
   </div>
   <div id="projectbrief">Qt SVG cumbia integration module</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">qumbia-svg Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="qusvg_title"></a>
cumbia Qt Svg integration module</h1>
<p>The qumbia-svg module connects Qt Svg objects to cumbia.</p>
<p>A SVG file as well as a document as string can be loaded. Elements containing the <em>item</em> attribute set to anything different than "false" are mapped to QGraphicsSvgItem objects that populate a QGraphicsScene. Child elements of the <em>item</em> are rendered by the same <a href="https://doc.qt.io/qt-5/qgraphicssvgitem.html">QGraphicsSvgItem</a>.</p>
<p>The <a href="https://doc.qt.io/qt-5/qgraphicsscene.html">QGraphicsScene</a> class provides a surface for managing a large number of 2D graphical items.</p>
<h2><a class="anchor" id="load_svg"></a>
Loading documents</h2>
<p>SVG documents are loaded from files or directly from strings by the loadFile and loadSvg functions respectively.</p>
<h2><a class="anchor" id="display_content"></a>
Display content</h2>
<p>Svg content is displayed by <a class="el" href="classQuSvgView.html">QuSvgView</a>, whose constructor takes an instance of QumbiaSvg. <a class="el" href="classQuSvgView.html">QuSvgView</a> is a QGraphicsView that will display one QGraphicsSvgItem for each element in the svg document with the <em>item</em> attribute defined and not set to "false".</p>
<h2><a class="anchor" id="cumbia_connect"></a>
Connect to sources</h2>
<p>Each property of a svg object can be <em>connected</em> to a cumbia <em>source</em>. The connection can be directly defined in the <em>svg</em> file, by introducing a *&lt;link&gt;* element as <em>direct child</em> of the target element. The *&lt;link&gt;* element will contain the following attributes</p><ul>
<li><em>src</em> (compulsory): specifies the name of the source of data</li>
<li><em>attribute</em>: specifies the <em>target attribute</em> in the <em>parent</em> that will be changed upon new data from <em>src</em>. If <em>attribute</em> is missing, then it must be clear from the context what is the target of the data update <em>in the parent</em>, for example, the parent is a *&lt;text&gt;* node. Please see also QuSvgLink::isValid</li>
</ul>
<h3><a class="anchor" id="src_names"></a>
Source names</h3>
<p>Source names must be conform to the syntax understood by the available engines, e.g. Tango, EPICS, random</p>
<h2><a class="anchor" id="data_update"></a>
Data update</h2>
<p>When possible, the value of the source is directly updated: a number displayed on a text label or the color of a state. In the other cases (an item position change after a change in a value or a circle radius change proportional to another quantity) custom mappings and transformations can be defined.</p>
<h2><a class="anchor" id="target_and_events"></a>
Targets names and &lt;em&gt;item events&lt;/em&gt;</h2>
<h3><a class="anchor" id="targets"></a>
Targets</h3>
<p>Target names must be conform to the syntax understood by the available engines, e.g. Tango, EPICS, random. Writings without arguments, like those triggered by a <em>push button</em>, can be done through a <em>clickable item</em>. Those involving input values are performed by dedicated dialogs, either executed from a contextual menu or a simple click. Items with a <em>target</em> attribute defined and the <em>clickable</em> attribute set to <em>true</em> will start a write operation after a left button click event. Items with a <em>target</em> attribute defined and <em>without</em> a clickable attribute will make a write operation available through a contextual menu. In the latter case, if an <em>action</em> string attribute is defined, its value will be set as text in the contextual menu action associated. The <em>type</em> attribute defines the type of desired <em>writer</em> used in the pop up dialog. Its value can be one of (case insensitive):</p><ul>
<li>"quapplynumeric"</li>
<li>"qubutton"</li>
<li>"quinputoutput"</li>
<li>"qulineedit"</li>
</ul>
<h3><a class="anchor" id="Item"></a>
events.</h3>
<p>If an item has the <em>clickable</em> attribute set to true, it will be highlighted when mouse enters the item as well as a click operation is performed. <a class="el" href="classQuSvgView.html">QuSvgView</a> itemContextMenuRequest and itemClicked signals are emitted according to the event detected.</p>
<p>The following scenarios are valid:</p><ul>
<li><em>target and clickable defined, type not defined</em>: left button click executes the operation as written in the <em>target</em> attribute value</li>
<li><em>target, clickable and type are defined</em>: left click pops up a dialog with a widget of the desired type.</li>
<li><em>target and type defined, clickable not defined</em>: a context menu provides an action to execute a dialog with the desired widget to execute the target;</li>
<li><em>target defined, clickable and type not defined</em>: a context menu provides an action to execute a dialog with a <em>simple apply button</em> to execute the command as specified in <em>target</em></li>
<li><em>target, clickable and type</em> not defined: itemContextMenuRequest signal only is emitted upon right click</li>
<li><em>clickable defined, target and type not defined</em>, itemClicked is emitted on left button click, itemContextMenuRequest is emitted on right button click. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 25 2020 12:00:22 for qumbia-svg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
